import{r as d,R as u,u as Ce,a as ke,c as jt,g as Ut,b as Ht,_ as ye,d as _t,e as $t,p as Q,L as ze,f as Wt,S as Gt,h as le}from"./index.2583f8e6.js";function L(){return L=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},L.apply(this,arguments)}const be=async(t,e,n)=>e&&n?n.encrypt(t,e):Promise.resolve(t),Kt=async(t,e,n)=>e&&n?n.decrypt(t,e):Promise.resolve(t),Je=(t,e="object",n=100)=>{let a=[],r;return o=>(a.push(o),r||(r=setTimeout(()=>{let i=a.reduce((s,{id:c,data:l})=>(e==="object"?s[c]=l:s.set(c,l),s),e==="object"?{}:new Map);t(i),a=[],r=null},n)),()=>{clearTimeout(r),a=[],r=null})},Qe=()=>{const t=d.exports.useRef(!1);return d.exports.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),t},Vt=(t,{data:e,type:n})=>{switch(n){case"add":return L({},t,e);case"remove":return delete t[e.nodeID],L({},t);default:throw new Error}},Yt=(t,{data:e,type:n})=>{var a,r;switch(n){case"add":return e.forEach(o=>{var i;(i=t.collection)==null||i.set(o.nodeID,o)}),L({},t,{collection:t.collection});case"update":return(a=t.collection)==null||a.set(e.nodeID,e),L({},t,{collection:t.collection});case"remove":return(r=t.collection)==null||r.delete(e.nodeID),L({},t,{collection:t.collection});default:throw new Error}},et=(t,e)=>{const[n,a]=d.exports.useReducer(t,e),r=Qe();function o(i){r.current&&a(i)}return[n,o]},tt=(t,e={appKeys:"",sea:null,useOpen:!1},n,a)=>{const{appKeys:r,sea:o,useOpen:i}=e,[s]=d.exports.useState(t),c=d.exports.useRef(null),l=Qe();d.exports.useEffect(()=>{if(l.current){const m=async(g,f,v,b)=>{let h=await Kt(g,r,o);n(h,f),c.current||(c.current=b)};if(i)if(s.open)s.open(m);else throw new Error("Please include gun/lib/open.");else s.on(m)}return()=>{c.current&&c.current.off(),a&&a()}},[])},nt=(t,e={appKeys:"",sea:null,interval:100,useOpen:!1})=>{const{appKeys:n,sea:a,interval:r=100}=e,[o]=d.exports.useState(t),[i,s]=et(Vt,{}),c=[],l=Je(f=>{s({type:"add",data:f})},"object",r);return tt(o,e,f=>{Object.keys(f).forEach(v=>{let b=l({id:v,data:f[v]});c.push(b)})},()=>{c.length&&c.forEach(f=>f())}),{fields:i,put:async f=>{let v=await be(f,n,a);await new Promise((b,h)=>o.put(v,w=>w.err?h(w.err):b(f)))},remove:async f=>{await new Promise((v,b)=>o.put(null,h=>h.err?b(h.err):v(f))),s({type:"remove",data:{nodeID:f}})}}},Te=(t,e={appKeys:"",sea:null,interval:100,useOpen:!1})=>{const{appKeys:n,sea:a,interval:r=100}=e,[o]=d.exports.useState(t),[{collection:i},s]=et(Yt,{collection:new Map}),c=[],l=Je(v=>{s({type:"add",data:v})},"map",r);return tt(o.map(),e,(v,b)=>{if(v){let h=l({id:b,data:L({},v,{nodeID:b})});c.push(h)}},()=>{c.length&&c.forEach(v=>v())}),{collection:i,addToSet:async(v,b)=>{let h=await be(v,n,a);b?await new Promise((w,k)=>o.get(b).put(h,C=>C.err?k(C.err):w(v))):await new Promise((w,k)=>o.set(h,C=>C.err?k(C.err):w(v)))},updateInSet:async(v,b)=>{let h=await be(b,n,a);await new Promise((w,k)=>o.get(v).put(h,C=>C.err?k(C.err):w(b))),s({type:"update",data:L({nodeID:v},b)})},removeFromSet:async v=>{await new Promise((b,h)=>o.get(v).put(null,w=>w.err?h(w.err):b(v)))}}},Xt=({activeListCount:t=0,nowShowing:e="active",setNowShowing:n})=>u.createElement("footer",{className:"footer"},u.createElement("span",{className:"todo-count"},u.createElement("strong",null,t)," active list(s)"),u.createElement("ul",{className:"filters"},u.createElement("li",{onClick:n.bind(void 0,"active")},u.createElement("a",{href:"#/active",className:e==="active"?"selected":""},"Active"))," ",u.createElement("li",{onClick:n.bind(void 0,"archived")},u.createElement("a",{href:"#/archived",className:e==="archived"?"selected":""},"Archived"))," ",u.createElement("li",{onClick:n.bind(void 0,"readonly")},u.createElement("a",{href:"#/readOnly",className:e==="readonly"?"selected":""},"Read-Only")))),Zt=()=>{const{appKeys:t,user:e,sea:n}=Ce(),a="todomvc";let r=ke();const{collection:o,updateInSet:i}=Te(e.get(a).get("todolists"),{appKeys:t,sea:n}),[s,c]=d.exports.useState("active"),l=async(f,v)=>{const{nodeID:b}=f;await i(b,{...f,status:v})};let m=Array.from(o.values()),g=m.filter(({status:f})=>f==="active").length;return m=m.filter(({status:f})=>f===s),u.createElement("div",{className:"todoapp"},u.createElement("button",{className:"new-list",onClick:()=>{r.push("/detail")}},"Create List"),u.createElement("button",{style:{margin:"0 auto",display:"block",padding:"10px 0 0 0"},onClick:()=>{r.push("/profile")}},"View profile"),u.createElement("h2",null,"My Lists"),u.createElement("ul",{className:"todo-list lists"},m.map(f=>u.createElement("li",{key:f.nodeID,className:"view",onClick:()=>{const v=`/detail/${encodeURIComponent(f.id)}`;r.push(v)}},u.createElement("label",null,f.name),u.createElement("button",{className:"archive",onClick:v=>{v.stopPropagation(),l(f,f.status!=="archived"?"archived":"active")}},f.status==="active"&&u.createElement("i",{className:"gg-box"}),f.status==="archived"&&u.createElement("i",{className:"gg-undo"}))))),u.createElement(Xt,{activeListCount:g,nowShowing:s,setNowShowing:c}))},qt=async(t,e,n=12,a="SHA-1",r=null)=>(await e.work(t,r,null,{name:a,encode:"hex"})).slice(0,n),zt=async(t,e)=>{const n=await e.pair(),a=JSON.stringify(n);let r=await qt(a,e);const o=`${r}`;return new Promise(async i=>{const s=t({peers:["https://gun-us.herokuapp.com/gun"],localStorage:!1,radisk:!0,file:o});s.on("auth",()=>{i({node:()=>c.get(o),shareKeys:{keyId:r,sharedKeyString:a,nodeID:o},keys:n})});const c=s.user();c.auth(n)})},Jt=async(t,e,n,a)=>new Promise(r=>{const o=e({peers:["https://gun-us.herokuapp.com/gun"],localStorage:!1,radisk:!0,file:t});let i;n?(o.on("auth",()=>{r(()=>i.get(t))}),i=o.user(),i.auth(n)):(i=o.get(a),r(()=>i.get(t)))});var rt={exports:{}};/*!
 * clipboard.js v2.0.6
 * https://clipboardjs.com/
 * 
 * Licensed MIT Â© Zeno Rocha
 */(function(t,e){(function(a,r){t.exports=r()})(jt,function(){return function(n){var a={};function r(o){if(a[o])return a[o].exports;var i=a[o]={i:o,l:!1,exports:{}};return n[o].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=n,r.c=a,r.d=function(o,i,s){r.o(o,i)||Object.defineProperty(o,i,{enumerable:!0,get:s})},r.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},r.t=function(o,i){if(i&1&&(o=r(o)),i&8||i&4&&typeof o=="object"&&o&&o.__esModule)return o;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:o}),i&2&&typeof o!="string")for(var c in o)r.d(s,c,function(l){return o[l]}.bind(null,c));return s},r.n=function(o){var i=o&&o.__esModule?function(){return o.default}:function(){return o};return r.d(i,"a",i),i},r.o=function(o,i){return Object.prototype.hasOwnProperty.call(o,i)},r.p="",r(r.s=6)}([function(n,a){function r(o){var i;if(o.nodeName==="SELECT")o.focus(),i=o.value;else if(o.nodeName==="INPUT"||o.nodeName==="TEXTAREA"){var s=o.hasAttribute("readonly");s||o.setAttribute("readonly",""),o.select(),o.setSelectionRange(0,o.value.length),s||o.removeAttribute("readonly"),i=o.value}else{o.hasAttribute("contenteditable")&&o.focus();var c=window.getSelection(),l=document.createRange();l.selectNodeContents(o),c.removeAllRanges(),c.addRange(l),i=c.toString()}return i}n.exports=r},function(n,a){function r(){}r.prototype={on:function(o,i,s){var c=this.e||(this.e={});return(c[o]||(c[o]=[])).push({fn:i,ctx:s}),this},once:function(o,i,s){var c=this;function l(){c.off(o,l),i.apply(s,arguments)}return l._=i,this.on(o,l,s)},emit:function(o){var i=[].slice.call(arguments,1),s=((this.e||(this.e={}))[o]||[]).slice(),c=0,l=s.length;for(c;c<l;c++)s[c].fn.apply(s[c].ctx,i);return this},off:function(o,i){var s=this.e||(this.e={}),c=s[o],l=[];if(c&&i)for(var m=0,g=c.length;m<g;m++)c[m].fn!==i&&c[m].fn._!==i&&l.push(c[m]);return l.length?s[o]=l:delete s[o],this}},n.exports=r,n.exports.TinyEmitter=r},function(n,a,r){var o=r(3),i=r(4);function s(g,f,v){if(!g&&!f&&!v)throw new Error("Missing required arguments");if(!o.string(f))throw new TypeError("Second argument must be a String");if(!o.fn(v))throw new TypeError("Third argument must be a Function");if(o.node(g))return c(g,f,v);if(o.nodeList(g))return l(g,f,v);if(o.string(g))return m(g,f,v);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function c(g,f,v){return g.addEventListener(f,v),{destroy:function(){g.removeEventListener(f,v)}}}function l(g,f,v){return Array.prototype.forEach.call(g,function(b){b.addEventListener(f,v)}),{destroy:function(){Array.prototype.forEach.call(g,function(b){b.removeEventListener(f,v)})}}}function m(g,f,v){return i(document.body,g,f,v)}n.exports=s},function(n,a){a.node=function(r){return r!==void 0&&r instanceof HTMLElement&&r.nodeType===1},a.nodeList=function(r){var o=Object.prototype.toString.call(r);return r!==void 0&&(o==="[object NodeList]"||o==="[object HTMLCollection]")&&"length"in r&&(r.length===0||a.node(r[0]))},a.string=function(r){return typeof r=="string"||r instanceof String},a.fn=function(r){var o=Object.prototype.toString.call(r);return o==="[object Function]"}},function(n,a,r){var o=r(5);function i(l,m,g,f,v){var b=c.apply(this,arguments);return l.addEventListener(g,b,v),{destroy:function(){l.removeEventListener(g,b,v)}}}function s(l,m,g,f,v){return typeof l.addEventListener=="function"?i.apply(null,arguments):typeof g=="function"?i.bind(null,document).apply(null,arguments):(typeof l=="string"&&(l=document.querySelectorAll(l)),Array.prototype.map.call(l,function(b){return i(b,m,g,f,v)}))}function c(l,m,g,f){return function(v){v.delegateTarget=o(v.target,m),v.delegateTarget&&f.call(l,v)}}n.exports=s},function(n,a){var r=9;if(typeof Element<"u"&&!Element.prototype.matches){var o=Element.prototype;o.matches=o.matchesSelector||o.mozMatchesSelector||o.msMatchesSelector||o.oMatchesSelector||o.webkitMatchesSelector}function i(s,c){for(;s&&s.nodeType!==r;){if(typeof s.matches=="function"&&s.matches(c))return s;s=s.parentNode}}n.exports=i},function(n,a,r){r.r(a);var o=r(0),i=r.n(o),s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},c=function(){function E(p,y){for(var x=0;x<y.length;x++){var S=y[x];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(p,S.key,S)}}return function(p,y,x){return y&&E(p.prototype,y),x&&E(p,x),p}}();function l(E,p){if(!(E instanceof p))throw new TypeError("Cannot call a class as a function")}var m=function(){function E(p){l(this,E),this.resolveOptions(p),this.initSelection()}return c(E,[{key:"resolveOptions",value:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.action=y.action,this.container=y.container,this.emitter=y.emitter,this.target=y.target,this.text=y.text,this.trigger=y.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var y=this,x=document.documentElement.getAttribute("dir")=="rtl";this.removeFake(),this.fakeHandlerCallback=function(){return y.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[x?"right":"left"]="-9999px";var S=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=S+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=i()(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=i()(this.target),this.copyText()}},{key:"copyText",value:function(){var y=void 0;try{y=document.execCommand(this.action)}catch{y=!1}this.handleResult(y)}},{key:"handleResult",value:function(y){this.emitter.emit(y?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),document.activeElement.blur(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"copy";if(this._action=y,this._action!=="copy"&&this._action!=="cut")throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(y){if(y!==void 0)if(y&&(typeof y>"u"?"undefined":s(y))==="object"&&y.nodeType===1){if(this.action==="copy"&&y.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if(this.action==="cut"&&(y.hasAttribute("readonly")||y.hasAttribute("disabled")))throw new Error(`Invalid "target" attribute. You can't cut text from elements with "readonly" or "disabled" attributes`);this._target=y}else throw new Error('Invalid "target" value, use a valid Element')},get:function(){return this._target}}]),E}(),g=m,f=r(1),v=r.n(f),b=r(2),h=r.n(b),w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},k=function(){function E(p,y){for(var x=0;x<y.length;x++){var S=y[x];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(p,S.key,S)}}return function(p,y,x){return y&&E(p.prototype,y),x&&E(p,x),p}}();function C(E,p){if(!(E instanceof p))throw new TypeError("Cannot call a class as a function")}function D(E,p){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:E}function F(E,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);E.prototype=Object.create(p&&p.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(E,p):E.__proto__=p)}var O=function(E){F(p,E);function p(y,x){C(this,p);var S=D(this,(p.__proto__||Object.getPrototypeOf(p)).call(this));return S.resolveOptions(x),S.listenClick(y),S}return k(p,[{key:"resolveOptions",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.action=typeof x.action=="function"?x.action:this.defaultAction,this.target=typeof x.target=="function"?x.target:this.defaultTarget,this.text=typeof x.text=="function"?x.text:this.defaultText,this.container=w(x.container)==="object"?x.container:document.body}},{key:"listenClick",value:function(x){var S=this;this.listener=h()(x,"click",function(A){return S.onClick(A)})}},{key:"onClick",value:function(x){var S=x.delegateTarget||x.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new g({action:this.action(S),target:this.target(S),text:this.text(S),container:this.container,trigger:S,emitter:this})}},{key:"defaultAction",value:function(x){return T("action",x)}},{key:"defaultTarget",value:function(x){var S=T("target",x);if(S)return document.querySelector(S)}},{key:"defaultText",value:function(x){return T("text",x)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["copy","cut"],S=typeof x=="string"?[x]:x,A=!!document.queryCommandSupported;return S.forEach(function(P){A=A&&!!document.queryCommandSupported(P)}),A}}]),p}(v.a);function T(E,p){var y="data-clipboard-"+E;if(!!p.hasAttribute(y))return p.getAttribute(y)}a.default=O}]).default})})(rt);const at=Ut(rt.exports),Qt=({todo:t})=>{const{text:e,lastUpdated:n,nodeID:a,status:r}=t;let o=r==="completed"?r:"";return u.createElement("li",{className:o,key:a},u.createElement("div",{className:"view"},u.createElement("input",{className:"toggle",type:"checkbox",checked:r==="completed",disabled:!0}),u.createElement("label",null,e," ",u.createElement("small",null,"[Updated At: ",n,"]"))))},en=({todo:t,removeTodo:e,changeStatus:n,updateTodo:a})=>{const{text:r,lastUpdated:o,nodeID:i,status:s}=t,[c,l]=d.exports.useState(!1),[m,g]=d.exports.useState(r);let f=s==="completed"?s:"";return f+=c?"editing":"",u.createElement("li",{className:f,key:i},u.createElement("div",{className:"view"},u.createElement("input",{className:"toggle",type:"checkbox",checked:s==="completed",onChange:n.bind(void 0,t)}),u.createElement("label",{onClick:()=>l(!0)},r," ",u.createElement("small",null,"[Updated At: ",o,"]")),u.createElement("button",{className:"destroy",onClick:e.bind(void 0,t)})),u.createElement("input",{className:"edit",value:m,onChange:v=>{g(v.target.value)},onBlur:()=>{a({...t,text:m}),l(!1)}}))},tn=({todos:t=[],removeTodo:e,changeStatus:n,updateTodo:a,readOnly:r})=>{const o=r?Qt:en;return u.createElement("ul",{id:"todo-list",className:"todo-list"},t.map(i=>u.createElement(o,{key:i.nodeID,todo:i,removeTodo:e,changeStatus:n,updateTodo:a,readOnly:r})))},nn=({activeTodoCount:t=0,nowShowing:e="all",setNowShowing:n})=>u.createElement("footer",{className:"footer"},u.createElement("span",{className:"todo-count"},u.createElement("strong",null,t)," item(s) left"),u.createElement("ul",{className:"filters"},u.createElement("li",{onClick:n.bind(void 0,"all")},u.createElement("a",{href:"#/",className:e==="all"?"selected":""},"All"))," ",u.createElement("li",{onClick:n.bind(void 0,"active")},u.createElement("a",{href:"#/active",className:e==="active"?"selected":""},"Active"))," ",u.createElement("li",{onClick:n.bind(void 0,"completed")},u.createElement("a",{href:"#/completed",className:e==="completed"?"selected":""},"Completed")))),rn=({addTodo:t,setNewTodo:e,updateName:n,readOnly:a,newTodo:r,name:o})=>a?u.createElement("h1",{id:"appName"},o):u.createElement(d.exports.Fragment,null,u.createElement("h1",{id:"appName",contentEditable:!0,suppressContentEditableWarning:!0,onBlur:i=>{const s=i.target.innerText;n(s),i.target.innerText=""}},o||"[Add new name]"),u.createElement("input",{className:"new-todo",value:r,onChange:i=>{e(i.target.value)},onBlur:i=>{t(r),i.target.value=""},type:"text",placeholder:"What needs to be done?"}));var ot=it()?u.useLayoutEffect:u.useEffect,an=Oe;function on(t,e){if(t!=null)if(cn(t))t(e);else try{t.current=e}catch{throw new Error('Cannot assign value "'+e+'" to ref "'+t+'"')}}function it(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function sn(t,e){var n=d.exports.createContext(e);return n.displayName=t,n}function st(t){return t&&t.ownerDocument?t.ownerDocument:it()?document:null}function cn(t){return!!(t&&{}.toString.call(t)=="[object Function]")}function Ue(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.filter(function(a){return a!=null}).join("--")}function Oe(){}function un(){var t=d.exports.useState(Object.create(null)),e=t[1];return d.exports.useCallback(function(){e(Object.create(null))},[])}function ct(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return d.exports.useMemo(function(){return e.every(function(a){return a==null})?null:function(a){e.forEach(function(r){on(r,a)})}},[].concat(e))}function ne(t,e){return function(n){if(t&&t(n),!n.defaultPrevented)return e(n)}}var ln=function(e){var n=e.children,a=e.type,r=a===void 0?"reach-portal":a,o=d.exports.useRef(null),i=d.exports.useRef(null),s=un();return ot(function(){if(!!o.current){var c=o.current.ownerDocument;return i.current=c==null?void 0:c.createElement(r),c.body.appendChild(i.current),s(),function(){i.current&&i.current.ownerDocument&&i.current.ownerDocument.body.removeChild(i.current)}}},[r,s]),i.current?Ht.exports.createPortal(n,i.current):u.createElement("span",{ref:o})},Ee="data-focus-lock",ut="data-focus-lock-disabled",dn="data-no-focus-lock",fn="data-autofocus-inside";function vn(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function pn(t,e){var n=d.exports.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(a){var r=n.value;r!==a&&(n.value=a,n.callback(a,r))}}}})[0];return n.callback=e,n.facade}function lt(t,e){return pn(e,function(n){return t.forEach(function(a){return vn(a,n)})})}var de={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var B=function(){return B=Object.assign||function(e){for(var n,a=1,r=arguments.length;a<r;a++){n=arguments[a];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},B.apply(this,arguments)};function dt(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(t);r<a.length;r++)e.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(t,a[r])&&(n[a[r]]=t[a[r]]);return n}function ft(t){return t}function vt(t,e){e===void 0&&(e=ft);var n=[],a=!1,r={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var i=e(o,a);return n.push(i),function(){n=n.filter(function(s){return s!==i})}},assignSyncMedium:function(o){for(a=!0;n.length;){var i=n;n=[],i.forEach(o)}n={push:function(s){return o(s)},filter:function(){return n}}},assignMedium:function(o){a=!0;var i=[];if(n.length){var s=n;n=[],s.forEach(o),i=n}var c=function(){var m=i;i=[],m.forEach(o)},l=function(){return Promise.resolve().then(c)};l(),n={push:function(m){i.push(m),l()},filter:function(m){return i=i.filter(m),n}}}};return r}function De(t,e){return e===void 0&&(e=ft),vt(t,e)}function pt(t){t===void 0&&(t={});var e=vt(null);return e.options=B({async:!0,ssr:!1},t),e}var mt=function(t){var e=t.sideCar,n=dt(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=e.read();if(!a)throw new Error("Sidecar medium not found");return d.exports.createElement(a,B({},n))};mt.isSideCarExport=!0;function mn(t,e){return t.useMedium(e),mt}var ht=De({},function(t){var e=t.target,n=t.currentTarget;return{target:e,currentTarget:n}}),gt=De(),hn=De(),gn=pt({async:!0}),yn=[],Fe=d.exports.forwardRef(function(t,e){var n,a=d.exports.useState(),r=a[0],o=a[1],i=d.exports.useRef(),s=d.exports.useRef(!1),c=d.exports.useRef(null),l=t.children,m=t.disabled,g=t.noFocusGuards,f=t.persistentFocus,v=t.crossFrame,b=t.autoFocus;t.allowTextSelection;var h=t.group,w=t.className,k=t.whiteList,C=t.shards,D=C===void 0?yn:C,F=t.as,O=F===void 0?"div":F,T=t.lockProps,E=T===void 0?{}:T,p=t.sideCar,y=t.returnFocus,x=t.onActivation,S=t.onDeactivation,A=d.exports.useState({}),P=A[0],q=d.exports.useCallback(function(){c.current=c.current||document&&document.activeElement,i.current&&x&&x(i.current),s.current=!0},[x]),z=d.exports.useCallback(function(){s.current=!1,S&&S(i.current)},[S]),_=d.exports.useCallback(function(I){var W=c.current;if(Boolean(y)&&W&&W.focus){var G=typeof y=="object"?y:void 0;c.current=null,I?Promise.resolve().then(function(){return W.focus(G)}):W.focus(G)}},[y]),$=d.exports.useCallback(function(I){s.current&&ht.useMedium(I)},[]),ue=gt.useMedium,N=d.exports.useCallback(function(I){i.current!==I&&(i.current=I,o(I))},[]),R=ye((n={},n[ut]=m&&"disabled",n[Ee]=h,n),E),M=g!==!0,U=M&&g!=="tail",H=lt([e,N]);return d.exports.createElement(d.exports.Fragment,null,M&&[d.exports.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:m?-1:0,style:de}),d.exports.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:m?-1:1,style:de})],!m&&d.exports.createElement(p,{id:P,sideCar:gn,observed:r,disabled:m,persistentFocus:f,crossFrame:v,autoFocus:b,whiteList:k,shards:D,onActivation:q,onDeactivation:z,returnFocus:_}),d.exports.createElement(O,ye({ref:H},R,{className:w,onBlur:ue,onFocus:$}),l),U&&d.exports.createElement("div",{"data-focus-guard":!0,tabIndex:m?-1:0,style:de}))});Fe.propTypes={};Fe.defaultProps={children:void 0,disabled:!1,returnFocus:!1,noFocusGuards:!1,autoFocus:!0,persistentFocus:!1,crossFrame:!0,allowTextSelection:void 0,group:void 0,className:void 0,whiteList:void 0,shards:void 0,as:"div",lockProps:{},onActivation:void 0,onDeactivation:void 0};const yt=Fe;function bn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function En(t,e){function n(a){return a.displayName||a.name||"Component"}return function(r){var o=[],i;function s(){i=t(o.map(function(l){return l.props})),e(i)}var c=function(l){_t(m,l);function m(){return l.apply(this,arguments)||this}m.peek=function(){return i};var g=m.prototype;return g.componentDidMount=function(){o.push(this),s()},g.componentDidUpdate=function(){s()},g.componentWillUnmount=function(){var v=o.indexOf(this);o.splice(v,1),s()},g.render=function(){return u.createElement(r,this.props)},m}(d.exports.PureComponent);return bn(c,"displayName","SideEffect("+n(r)+")"),c}}var j=function(e){for(var n=Array(e.length),a=0;a<e.length;++a)n[a]=e[a];return n},xn=function(e,n){return e.filter(function(a){return a===n})[0]},xe=function(e){return Array.isArray(e)?e:[e]},wn=function(e,n){var a=e.tabIndex-n.tabIndex,r=e.index-n.index;if(a){if(!e.tabIndex)return 1;if(!n.tabIndex)return-1}return a||r},bt=function(e,n,a){return j(e).map(function(r,o){return{node:r,index:o,tabIndex:a&&r.tabIndex===-1?(r.dataset||{}).focusGuard?0:-1:r.tabIndex}}).filter(function(r){return!n||r.tabIndex>=0}).sort(wn)};const Et=["button:enabled:not([readonly])","select:enabled:not([readonly])","textarea:enabled:not([readonly])","input:enabled:not([readonly])","a[href]","area[href]","iframe","object","embed","[tabindex]","[contenteditable]","[autofocus]"];var xt=Et.join(","),Sn=xt+", [data-focus-guard]",Ne=function(e,n){return e.reduce(function(a,r){return a.concat(j(r.querySelectorAll(n?Sn:xt)),r.parentNode?j(r.parentNode.querySelectorAll(Et.join(","))).filter(function(o){return o===r}):[])},[])},Cn=function(e){var n=e.querySelectorAll("["+fn+"]");return j(n).map(function(a){return Ne([a])}).reduce(function(a,r){return a.concat(r)},[])},kn=function(e){return!e||!e.getPropertyValue?!1:e.getPropertyValue("display")==="none"||e.getPropertyValue("visibility")==="hidden"},Tn=function t(e){return!e||e===document||e.nodeType===Node.DOCUMENT_NODE||!kn(window.getComputedStyle(e,null))&&t(e.parentNode&&e.parentNode.nodeType===e.DOCUMENT_FRAGMENT_NODE?e.parentNode.host:e.parentNode)},On=function(e){return!((e.tagName==="INPUT"||e.tagName==="BUTTON")&&(e.type==="hidden"||e.disabled))},He=function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return n.push(e),e.parentNode&&t(e.parentNode,n),n},fe=function(e,n){for(var a=He(e),r=He(n),o=0;o<a.length;o+=1){var i=a[o];if(r.indexOf(i)>=0)return i}return!1},Ae=function(e){return j(e).filter(function(n){return Tn(n)}).filter(function(n){return On(n)})},we=function(e,n){return bt(Ae(Ne(e,n)),!0,n)},_e=function(e){return bt(Ae(Ne(e)),!1)},Dn=function(e){return Ae(Cn(e))},wt=function(e){return e.tagName==="INPUT"&&e.type==="radio"},Fn=function(e,n){return n.filter(wt).filter(function(a){return a.name===e.name}).filter(function(a){return a.checked})[0]||e},Ie=function(e,n){return wt(e)&&e.name?Fn(e,n):e},Nn=function(e){var n=new Set;return e.forEach(function(a){return n.add(Ie(a,e))}),e.filter(function(a){return n.has(a)})},An=function(e){return e[0]&&e.length>1?Ie(e[0],e):e[0]},$e=function(e,n){return e.length>1?e.indexOf(Ie(e[n],e)):n};const We=An;var In=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rn=function t(e){for(var n=e.length,a=0;a<n;a+=1)for(var r=function(c){if(a!==c&&e[a].contains(e[c]))return{v:t(e.filter(function(l){return l!==e[c]}))}},o=0;o<n;o+=1){var i=r(o);if((typeof i>"u"?"undefined":In(i))==="object")return i.v}return e},Ln=function t(e){return e.parentNode?t(e.parentNode):e},Pn=function(e){var n=xe(e);return n.filter(Boolean).reduce(function(a,r){var o=r.getAttribute(Ee);return a.push.apply(a,o?Rn(j(Ln(r).querySelectorAll("["+Ee+'="'+o+'"]:not(['+ut+'="disabled"])'))):[r]),a},[])};const Re=Pn;var Mn=function(e){return function(n){return!!n.autofocus||n.dataset&&!!n.dataset.autofocus||e.indexOf(n)>=0}},Le=function(e){return e&&e.dataset&&e.dataset.focusGuard},oe=function(e){return!Le(e)},Bn="NEW_FOCUS",jn=function(e,n,a,r){var o=e.length,i=e[0],s=e[o-1],c=Le(a);if(!(e.indexOf(a)>=0)){var l=n.indexOf(a),m=n.indexOf(r||l),g=e.indexOf(r),f=l-m,v=n.indexOf(i),b=n.indexOf(s),h=Nn(n),w=h.indexOf(a)-h.indexOf(r||l),k=$e(e,0),C=$e(e,o-1);if(l===-1||g===-1)return Bn;if(!f&&g>=0)return g;if(l<=v&&c&&Math.abs(f)>1)return C;if(l>=b&&c&&Math.abs(f)>1)return k;if(f&&Math.abs(w)>1)return g;if(l<=v)return C;if(l>b)return k;if(f)return Math.abs(f)>1?g:(o+g+f)%o}},St=function(e,n,a){var r=xe(e),o=xe(n),i=r[0],s=null;return o.filter(Boolean).forEach(function(c){s=fe(s||c,c)||s,a.filter(Boolean).forEach(function(l){var m=fe(i,l);m&&(!s||m.contains(s)?s=m:s=fe(m,s))})}),s},Un=function(e){return e.reduce(function(n,a){return n.concat(Dn(a))},[])},Hn=function(e,n){var a=new Map;return n.forEach(function(r){return a.set(r.node,r)}),e.map(function(r){return a.get(r)}).filter(Boolean)},_n=function(e){var n=Re(e).filter(oe),a=St(e,e,n),r=we([a],!0),o=we(n).filter(function(i){var s=i.node;return oe(s)}).map(function(i){var s=i.node;return s});return r.map(function(i){var s=i.node,c=i.index;return{node:s,index:c,lockItem:o.indexOf(s)>=0,guard:Le(s)}})},$n=function(e,n){var a=document&&document.activeElement,r=Re(e).filter(oe),o=St(a||e,e,r),i=_e(r),s=we(r).filter(function(v){var b=v.node;return oe(b)});if(!(!s[0]&&(s=i,!s[0]))){var c=_e([o]).map(function(v){var b=v.node;return b}),l=Hn(c,s),m=l.map(function(v){var b=v.node;return b}),g=jn(m,c,a,n);if(g==="NEW_FOCUS"){var f=i.map(function(v){var b=v.node;return b}).filter(Mn(Un(r)));return{node:f&&f.length?We(f):We(m)}}return g===void 0?g:l[g]}};const Wn=$n;var Gn=function(e){return e===document.activeElement},Kn=function(e){return!!xn(j(e.querySelectorAll("iframe")),Gn)},Vn=function(e){var n=document&&document.activeElement;return!n||n.dataset&&n.dataset.focusGuard?!1:Re(e).reduce(function(a,r){return a||r.contains(n)||Kn(r)},!1)};const Ct=Vn;var Yn=function(){return document&&j(document.querySelectorAll("["+dn+"]")).some(function(e){return e.contains(document.activeElement)})};const Xn=Yn;var Zn=function(e){e.focus(),e.contentWindow&&e.contentWindow.focus()},ve=0,pe=!1;const kt=function(t,e){var n=Wn(t,e);if(!pe&&n){if(ve>2){console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),pe=!0,setTimeout(function(){pe=!1},1);return}ve++,Zn(n.node),ve--}};function Tt(t){var e=window,n=e.setImmediate;typeof n<"u"?n(t):setTimeout(t,1)}var qn=function(){return document&&document.activeElement===document.body},zn=function(){return qn()||Xn()},X=null,Y=null,Z=null,J=!1,Jn=function(){return!0},Qn=function(e){return(X.whiteList||Jn)(e)},er=function(e,n){Z={observerNode:e,portaledElement:n}},tr=function(e){return Z&&Z.portaledElement===e};function Ge(t,e,n,a){var r=null,o=t;do{var i=a[o];if(i.guard)i.node.dataset.focusAutoGuard&&(r=i);else if(i.lockItem){if(o!==t)return;r=null}else break}while((o+=n)!==e);r&&(r.node.tabIndex=0)}var nr=function(e){return e&&"current"in e?e.current:e},rr=function(e){return e?Boolean(J):J==="meanwhile"},ie=function(){var e=!1;if(X){var n=X,a=n.observed,r=n.persistentFocus,o=n.autoFocus,i=n.shards,s=n.crossFrame,c=a||Z&&Z.portaledElement,l=document&&document.activeElement;if(c){var m=[c].concat(i.map(nr).filter(Boolean));if((!l||Qn(l))&&(r||rr(s)||!zn()||!Y&&o)&&(c&&!(Ct(m)||tr(l))&&(document&&!Y&&l&&!o?(l.blur&&l.blur(),document.body.focus()):(e=kt(m,Y),Z={})),J=!1,Y=document&&document.activeElement),document){var g=document&&document.activeElement,f=_n(m),v=f.map(function(b){var h=b.node;return h}).indexOf(g);v>-1&&(f.filter(function(b){var h=b.guard,w=b.node;return h&&w.dataset.focusAutoGuard}).forEach(function(b){var h=b.node;return h.removeAttribute("tabIndex")}),Ge(v,f.length,1,f),Ge(v,-1,-1,f))}}}return e},Ot=function(e){ie()&&e&&(e.stopPropagation(),e.preventDefault())},Pe=function(){return Tt(ie)},ar=function(e){var n=e.target,a=e.currentTarget;a.contains(n)||er(a,n)},or=function(){return null},Dt=function(){J="just",setTimeout(function(){J="meanwhile"},0)},ir=function(){document.addEventListener("focusin",Ot,!0),document.addEventListener("focusout",Pe),window.addEventListener("blur",Dt)},sr=function(){document.removeEventListener("focusin",Ot,!0),document.removeEventListener("focusout",Pe),window.removeEventListener("blur",Dt)};function cr(t){return t.filter(function(e){var n=e.disabled;return!n})}function ur(t){var e=t.slice(-1)[0];e&&!X&&ir();var n=X,a=n&&e&&e.id===n.id;X=e,n&&!a&&(n.onDeactivation(),t.filter(function(r){var o=r.id;return o===n.id}).length||n.returnFocus(!e)),e?(Y=null,(!a||n.observed!==e.observed)&&e.onActivation(),ie(),Tt(ie)):(sr(),Y=null)}ht.assignSyncMedium(ar);gt.assignMedium(Pe);hn.assignMedium(function(t){return t({moveFocusInside:kt,focusInside:Ct})});const lr=En(cr,ur)(or);var Ft=d.exports.forwardRef(function(t,e){return d.exports.createElement(yt,ye({sideCar:lr,ref:e},t))}),Nt=yt.propTypes||{};Nt.sideCar;var dr=$t(Nt,["sideCar"]);Ft.propTypes=dr;const fr=Ft;var re="right-scroll-bar-position",ae="width-before-scroll-bar",vr="with-scroll-bars-hidden",At=pt(),me=function(){},se=d.exports.forwardRef(function(t,e){var n=d.exports.useRef(null),a=d.exports.useState({onScrollCapture:me,onWheelCapture:me,onTouchMoveCapture:me}),r=a[0],o=a[1],i=t.forwardProps,s=t.children,c=t.className,l=t.removeScrollBar,m=t.enabled,g=t.shards,f=t.sideCar,v=t.noIsolation,b=t.inert,h=t.allowPinchZoom,w=t.as,k=w===void 0?"div":w,C=dt(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),D=f,F=lt([n,e]),O=B({},C,r);return d.exports.createElement(d.exports.Fragment,null,m&&d.exports.createElement(D,{sideCar:At,removeScrollBar:l,shards:g,noIsolation:v,inert:b,setCallbacks:o,allowPinchZoom:!!h,lockRef:n}),i?d.exports.cloneElement(d.exports.Children.only(s),B({},O,{ref:F})):d.exports.createElement(k,B({},O,{className:c,ref:F}),s))});se.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};se.classNames={fullWidth:ae,zeroRight:re};var pr=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function mr(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=pr();return e&&t.setAttribute("nonce",e),t}function hr(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function gr(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var yr=function(){var t=0,e=null;return{add:function(n){t==0&&(e=mr())&&(hr(e,n),gr(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},br=function(){var t=yr();return function(e){d.exports.useEffect(function(){return t.add(e),function(){t.remove()}},[])}},It=function(){var t=br(),e=function(n){var a=n.styles;return t(a),null};return e},Er={left:0,top:0,right:0,gap:0},he=function(t){return parseInt(t||"",10)||0},xr=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],a=e[t==="padding"?"paddingTop":"marginTop"],r=e[t==="padding"?"paddingRight":"marginRight"];return[he(n),he(a),he(r)]},Ke=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Er;var e=xr(t),n=document.documentElement.clientWidth,a=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,a-n+e[2]-e[0])}},wr=It(),Sr=function(t,e,n,a){var r=t.left,o=t.top,i=t.right,s=t.gap;return n===void 0&&(n="margin"),`
  .`+vr+` {
   overflow: hidden `+a+`;
   padding-right: `+s+"px "+a+`;
  }
  body {
    overflow: hidden `+a+`;
    `+[e&&"position: relative "+a+";",n==="margin"&&`
    padding-left: `+r+`px;
    padding-top: `+o+`px;
    padding-right: `+i+`px;
    margin-left:0;
    margin-top:0;
    margin-right: `+s+"px "+a+`;
    `,n==="padding"&&"padding-right: "+s+"px "+a+";"].filter(Boolean).join("")+`
  }
  
  .`+re+` {
    right: `+s+"px "+a+`;
  }
  
  .`+ae+` {
    margin-right: `+s+"px "+a+`;
  }
  
  .`+re+" ."+re+` {
    right: 0 `+a+`;
  }
  
  .`+ae+" ."+ae+` {
    margin-right: 0 `+a+`;
  }
`},Cr=function(t){var e=d.exports.useState(Ke(t.gapMode)),n=e[0],a=e[1];d.exports.useEffect(function(){a(Ke(t.gapMode))},[t.gapMode]);var r=t.noRelative,o=t.noImportant,i=t.gapMode,s=i===void 0?"margin":i;return d.exports.createElement(wr,{styles:Sr(n,!r,s,o?"":"!important")})},kr=function(t){var e=window.getComputedStyle(t);return e.overflowY!=="hidden"&&!(e.overflowY===e.overflowX&&e.overflowY==="visible")},Tr=function(t){var e=window.getComputedStyle(t);return e.overflowX!=="hidden"&&!(e.overflowY===e.overflowX&&e.overflowX==="visible")},Ve=function(t,e){var n=e;do{var a=Rt(t,n);if(a){var r=Lt(t,n),o=r[1],i=r[2];if(o>i)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},Or=function(t){var e=t.scrollTop,n=t.scrollHeight,a=t.clientHeight;return[e,n,a]},Dr=function(t){var e=t.scrollLeft,n=t.scrollWidth,a=t.clientWidth;return[e,n,a]},Rt=function(t,e){return t==="v"?kr(e):Tr(e)},Lt=function(t,e){return t==="v"?Or(e):Dr(e)},Fr=function(t,e,n,a,r){var o=a,i=n.target,s=e.contains(i),c=!1,l=o>0,m=0,g=0;do{var f=Lt(t,i),v=f[0],b=f[1],h=f[2],w=b-h-v;(v||w)&&Rt(t,i)&&(m+=w,g+=v),i=i.parentNode}while(!s&&i!==document.body||s&&(e.contains(i)||e===i));return(l&&(r&&m===0||!r&&o>m)||!l&&(r&&g===0||!r&&-o>g))&&(c=!0),c},Se=!1;if(typeof window<"u")try{var ee=Object.defineProperty({},"passive",{get:function(){return Se=!0,!0}});window.addEventListener("test",ee,ee),window.removeEventListener("test",ee,ee)}catch{Se=!1}var K=Se?{passive:!1}:!1,te=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Ye=function(t){return[t.deltaX,t.deltaY]},Xe=function(t){return t&&"current"in t?t.current:t},Nr=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Ar=function(t){return`
  .block-interactivity-`+t+` {pointer-events: none;}
  .allow-interactivity-`+t+` {pointer-events: all;}
`},Ir=0,V=[];function Rr(t){var e=d.exports.useRef([]),n=d.exports.useRef([0,0]),a=d.exports.useRef(),r=d.exports.useState(Ir++)[0],o=d.exports.useState(function(){return It()})[0],i=d.exports.useRef(t);d.exports.useEffect(function(){i.current=t},[t]),d.exports.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-"+r);var h=[t.lockRef.current].concat((t.shards||[]).map(Xe)).filter(Boolean);return h.forEach(function(w){return w.classList.add("allow-interactivity-"+r)}),function(){document.body.classList.remove("block-interactivity-"+r),h.forEach(function(w){return w.classList.remove("allow-interactivity-"+r)})}}},[t.inert,t.lockRef.current,t.shards]);var s=d.exports.useCallback(function(h,w){if("touches"in h&&h.touches.length===2)return!i.current.allowPinchZoom;var k=te(h),C=n.current,D="deltaX"in h?h.deltaX:C[0]-k[0],F="deltaY"in h?h.deltaY:C[1]-k[1],O,T=h.target,E=Math.abs(D)>Math.abs(F)?"h":"v",p=Ve(E,T);if(!p)return!0;if(p?O=E:(O=E==="v"?"h":"v",p=Ve(E,T)),!p)return!1;if(!a.current&&"changedTouches"in h&&(D||F)&&(a.current=O),!O)return!0;var y=a.current||O;return Fr(y,w,h,y==="h"?D:F,!0)},[]),c=d.exports.useCallback(function(h){var w=h;if(!(!V.length||V[V.length-1]!==o)){var k="deltaY"in w?Ye(w):te(w),C=e.current.filter(function(O){return O.name===w.type&&O.target===w.target&&Nr(O.delta,k)})[0];if(C&&C.should){w.preventDefault();return}if(!C){var D=(i.current.shards||[]).map(Xe).filter(Boolean).filter(function(O){return O.contains(w.target)}),F=D.length>0?s(w,D[0]):!i.current.noIsolation;F&&w.preventDefault()}}},[]),l=d.exports.useCallback(function(h,w,k,C){var D={name:h,delta:w,target:k,should:C};e.current.push(D),setTimeout(function(){e.current=e.current.filter(function(F){return F!==D})},1)},[]),m=d.exports.useCallback(function(h){n.current=te(h),a.current=void 0},[]),g=d.exports.useCallback(function(h){l(h.type,Ye(h),h.target,s(h,t.lockRef.current))},[]),f=d.exports.useCallback(function(h){l(h.type,te(h),h.target,s(h,t.lockRef.current))},[]);d.exports.useEffect(function(){return V.push(o),t.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:f}),document.addEventListener("wheel",c,K),document.addEventListener("touchmove",c,K),document.addEventListener("touchstart",m,K),function(){V=V.filter(function(h){return h!==o}),document.removeEventListener("wheel",c,K),document.removeEventListener("touchmove",c,K),document.removeEventListener("touchstart",m,K)}},[]);var v=t.removeScrollBar,b=t.inert;return d.exports.createElement(d.exports.Fragment,null,b?d.exports.createElement(o,{styles:Ar(r)}):null,v?d.exports.createElement(Cr,{gapMode:"margin"}):null)}const Lr=mn(At,Rr);var Pt=d.exports.forwardRef(function(t,e){return d.exports.createElement(se,B({},t,{ref:e,sideCar:Lr}))});Pt.classNames=se.classNames;const Pr=Pt;function Me(t,e){if(t==null)return{};var n={},a=Object.keys(t),r,o;for(o=0;o<a.length;o++)r=a[o],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}Q.exports.bool,Q.exports.bool,Q.exports.bool,Q.exports.func;var Mr=d.exports.forwardRef(function(e,n){var a=e.isOpen,r=a===void 0?!0:a,o=Me(e,["isOpen"]);return d.exports.useEffect(function(){return an()},[]),d.exports.useEffect(function(){r?window.__REACH_DISABLE_TOOLTIPS=!0:window.requestAnimationFrame(function(){window.__REACH_DISABLE_TOOLTIPS=!1})},[r]),r?u.createElement(ln,{"data-reach-dialog-wrapper":""},u.createElement(Br,Object.assign({ref:n},o))):null}),Br=d.exports.forwardRef(function(e,n){var a=e.allowPinchZoom,r=e.dangerouslyBypassFocusLock,o=r===void 0?!1:r,i=e.dangerouslyBypassScrollLock,s=i===void 0?!1:i,c=e.initialFocusRef,l=e.onClick,m=e.onDismiss,g=m===void 0?Oe:m,f=e.onKeyDown,v=e.onMouseDown,b=e.unstable_lockFocusAcrossFrames,h=b===void 0?!0:b,w=Me(e,["allowPinchZoom","dangerouslyBypassFocusLock","dangerouslyBypassScrollLock","initialFocusRef","onClick","onDismiss","onKeyDown","onMouseDown","unstable_lockFocusAcrossFrames"]),k=d.exports.useRef(null),C=d.exports.useRef(null),D=ct(C,n),F=d.exports.useCallback(function(){c&&c.current&&c.current.focus()},[c]);function O(p){k.current===p.target&&(p.stopPropagation(),g(p))}function T(p){p.key==="Escape"&&(p.stopPropagation(),g(p))}function E(p){k.current=p.target}return d.exports.useEffect(function(){return C.current?Ur(C.current):void 0},[]),u.createElement(fr,{autoFocus:!0,returnFocus:!0,onActivation:F,disabled:o,crossFrame:h},u.createElement(Pr,{allowPinchZoom:a,enabled:!s},u.createElement("div",Object.assign({},w,{ref:D,"data-reach-dialog-overlay":"",onClick:ne(l,O),onKeyDown:ne(f,T),onMouseDown:ne(v,E)}))))}),jr=d.exports.forwardRef(function(e,n){var a=e.onClick;e.onKeyDown;var r=Me(e,["onClick","onKeyDown"]);return u.createElement("div",Object.assign({"aria-modal":"true",role:"dialog",tabIndex:-1},r,{ref:n,"data-reach-dialog-content":"",onClick:ne(a,function(o){o.stopPropagation()})}))});function Ur(t){var e=[],n=[],a=st(t)||document;return t?(Array.prototype.forEach.call(a.querySelectorAll("body > *"),function(r){var o,i,s=(o=t.parentNode)===null||o===void 0||(i=o.parentNode)===null||i===void 0?void 0:i.parentNode;if(r!==s){var c=r.getAttribute("aria-hidden"),l=c!==null&&c!=="false";l||(e.push(c),n.push(r),r.setAttribute("aria-hidden","true"))}}),function(){n.forEach(function(r,o){var i=e[o];i===null?r.removeAttribute("aria-hidden"):r.setAttribute("aria-hidden",i)})}):Oe}var ge=!1,Hr=0,Ze=function(){return++Hr},_r=function(e){var n=e||(ge?Ze():null),a=d.exports.useState(n),r=a[0],o=a[1];return ot(function(){r===null&&o(Ze())},[]),d.exports.useEffect(function(){ge===!1&&(ge=!0)},[]),r!=null?String(r):void 0},$r=function(t,e,n,a,r,o,i,s){if(!t){var c;if(e===void 0)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,a,r,o,i,s],m=0;c=new Error(e.replace(/%s/g,function(){return l[m++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}},qe=$r;function Be(t,e){if(t==null)return{};var n={},a=Object.keys(t),r,o;for(o=0;o<a.length;o++)r=a[o],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}var ce=sn("AlertDialogContext",{}),Wr=d.exports.forwardRef(function(e,n){var a=e.leastDestructiveRef,r=Be(e,["leastDestructiveRef"]),o=d.exports.useRef(null),i=ct(n,o),s=_r(r.id),c=s?Ue("alert-dialog",s):void 0,l=s?Ue("alert-dialog-description",s):void 0;return u.createElement(ce.Provider,{value:{labelId:c,descriptionId:l,overlayRef:o,leastDestructiveRef:a}},u.createElement(Mr,Object.assign({},r,{ref:i,"data-reach-alert-dialog-overlay":!0,initialFocusRef:a})))}),Gr=d.exports.forwardRef(function(e,n){var a=e.children,r=Be(e,["children"]),o=d.exports.useContext(ce),i=o.descriptionId,s=o.labelId,c=o.leastDestructiveRef,l=o.overlayRef;return d.exports.useEffect(function(){var m=st(l.current)||document;s&&(m.getElementById(s)||qe(!1)),c||qe(!1)},[s,c]),u.createElement(jr,Object.assign({role:"alertdialog","aria-describedby":i,"aria-labelledby":r["aria-label"]?void 0:s},r,{ref:n,"data-reach-alert-dialong-content":!0,"data-reach-alert-dialog-content":!0}),a)}),Kr=function(e){var n=d.exports.useContext(ce),a=n.labelId;return u.createElement("div",Object.assign({},e,{id:a,"data-reach-alert-dialog-label":!0}))},Vr=function(e){var n=d.exports.useContext(ce),a=n.descriptionId;return u.createElement("div",Object.assign({},e,{id:a,"data-reach-alert-dialog-description":!0}))},Yr=function(e){var n=e.id,a=e.isOpen,r=e.onDismiss,o=e.leastDestructiveRef,i=Be(e,["id","isOpen","onDismiss","leastDestructiveRef"]);return u.createElement(Wr,Object.assign({},{isOpen:a,onDismiss:r,leastDestructiveRef:o,id:n}),u.createElement(Gr,Object.assign({},i)))};const Xr=({showDialog:t,setShowDialog:e,onDismiss:n})=>{const[a,r]=u.useState(""),[o,i]=u.useState("readonly"),s=u.useRef(),c=l=>{l==="success"&&n(a,o==="readonly"),e(!1)};return u.createElement("div",null,t&&u.createElement(Yr,{onDismiss:c.bind(void 0,"success"),leastDestructiveRef:s},u.createElement(Kr,null,u.createElement("h2",null,"Sharing")),u.createElement(Vr,null,"Choose wheter you want to share this list as read-only or with fully fledged read/write privileges:"," ",u.createElement("select",{onChange:l=>{i(l.target.value)},value:o},u.createElement("option",{value:!0},"Read-only"),u.createElement("option",{value:!1},"Full access")),u.createElement("br",null),u.createElement("br",null),"Then enter a passphrase (and memorize it!):"," ",u.createElement("input",{onChange:l=>{r(l.target.value)},value:a,type:"text"}),u.createElement("br",null),u.createElement("br",null),"Anyone with this link will also need to know this passphrase to open it.",u.createElement("br",null)),u.createElement("div",{className:"alert-buttons"},u.createElement("button",{onClick:c.bind(void 0,"success")},"Generate URL")," ",u.createElement("button",{ref:s,onClick:c.bind(void 0,"canceled")},"Cancel"))))},Zr=({node:t,sea:e,updateListName:n,sharedResourceRootNodeName:a,currentList:r})=>{const o="https://gun-react-todoapp.vercel.app",[i,s]=d.exports.useState("all"),[c,l]=d.exports.useState(""),[m,g]=d.exports.useState(""),[f,v]=d.exports.useState(!1),[b,h]=d.exports.useState(null),{encryptionKey:w,readOnly:k}=r,[C,D]=u.useState(!1),{fields:F,put:O}=nt(t.get(a).get("profile"),{appKeys:w,sea:e}),{collection:T,addToSet:E,updateInSet:p,removeFromSet:y}=Te(t.get(a).get("todos"),{appKeys:w,sea:e}),{name:x}=F;d.exports.useEffect(()=>(b||h(new at(".btn")),()=>{b&&b.destroy()}),[b]);const S=async N=>{const{status:R,text:M,nodeID:U}=N;var I={text:M,status:R==="completed"?"active":"completed",lastUpdated:new Date().toISOString()};p(U,I)},A=async N=>{const{status:R,text:M,nodeID:U}=N;var H={status:R,text:M,lastUpdated:new Date().toISOString()};p(U,H)},P=async N=>{let R={text:N,lastUpdated:new Date().toISOString(),status:"active"};E(R),g("")},q=({nodeID:N})=>{y(N)},z=async N=>{await O({name:N}),n(N)},_=async(N,R=!0)=>{if(f)l("");else{let{id:M,keys:U,name:H,encryptionKey:I,pub:W}=r,G;R?G={name:H,encryptionKey:I,pub:W}:G={keys:U,name:H,encryptionKey:I};const Mt=await e.encrypt(G,N),Bt=JSON.stringify({sharedList:Mt}),je=`${o}/detail/${M}#share=${encodeURI(Bt)}`;console.log(`Share URL: ${je} | Passhphrase: ${N}`),l(je)}v(!f)};let $=Array.from(T.values()),ue=$.filter(({status:N})=>N==="active").length;return i!=="all"&&($=$.filter(({status:N})=>N===i)),u.createElement("div",{className:"todoapp todo-list-detail"},u.createElement(ze,{to:"/"},u.createElement("i",{className:"gg-mail-reply"})),u.createElement(rn,{readOnly:k,addTodo:P,setNewTodo:g,updateName:z,newTodo:m,name:x}),u.createElement("section",{className:"main"},u.createElement(tn,{todos:$,removeTodo:q,changeStatus:S,addTodo:P,updateTodo:A})),u.createElement("section",{className:"share-box"},u.createElement("button",{onClick:()=>{f?v(!f):D(!0)}},f?"Hide link":"Share"),u.createElement(Xr,{showDialog:C,setShowDialog:D,onDismiss:_}),"   ",f&&u.createElement("input",{className:"new-todo link",id:"shareLink",readOnly:!0,value:c}),f&&u.createElement("button",{className:"btn copy-btn","data-clipboard-target":"#shareLink"},"Copy to clipboard")),u.createElement(nn,{activeTodoCount:ue,nowShowing:i,setNowShowing:s,readOnly:k}))},qr=()=>{const{appKeys:t,user:e,sea:n,newGunInstance:a}=Ce();let{listID:r}=Wt();const o=r?decodeURIComponent(r):null;let i=ke();const s="todomvc",{collection:c,addToSet:l,updateInSet:m}=Te(e.get(s).get("todolists"),{appKeys:t,sea:n}),[{node:g},f]=d.exports.useState({}),[v,b]=d.exports.useState(!1),[h,w]=d.exports.useState(null),k=Array.from(c.values()).reduce((T,E)=>{const{id:p}=E;return T[p]=E,T},{}),C=d.exports.useCallback(async T=>{const{id:E,keys:p,pub:y}=T,x=await Jt(E,a,p,y);f({node:x()}),w(T)},[a]),D=d.exports.useCallback(async()=>{const T=await zt(a,n),{shareKeys:E,keys:p}=T,{nodeID:y}=E,x={name:"",id:y,keys:p,status:"active",encryptionKey:n.random(16).toString(),pub:`~${p.pub}`};C(x)},[n,C,a]),F=d.exports.useCallback(async(T,E,p)=>{try{const y=decodeURI(E),{sharedList:x}=JSON.parse(y),S=await n.decrypt(x,p),{keys:A,name:P,encryptionKey:q,pub:z}=S;window.location.hash="";const _={name:P,id:T,keys:A,encryptionKey:q,pub:z,status:A?"active":"readonly",readOnly:!A};l(_),C(_)}catch{alert("failed to add new list, it seems like you don't have access or the passphrase is incorrect.")}},[n,l,C]);d.exports.useEffect(()=>{if(!v)if(o){let T;const E=o;let p;const y=window.location.hash;if(y.indexOf("share=")!==-1&&(T=y.split("#share=")[1],p=prompt("Please enter the passphrase in order to add this list to your profile.")),T&&!k[E])F(E,T,p),b(!0);else{let x=k[E];x&&(C(x),b(!0))}}else D(),b(!0)},[o,v,k,F,D,C]);const O=T=>{const E=k[h.id];if(E)m(E.nodeID,{...h,name:T}),w(E);else{l({...h,name:T});const p=`/detail/${encodeURIComponent(h.id)}`;i.push(p)}};return u.createElement("div",{className:"todoapp"},h&&u.createElement(Zr,{sea:n,node:g,updateListName:O,currentList:h,sharedResourceRootNodeName:h.id}))},zr=()=>{const{appKeys:t,sea:e,user:n,logout:a}=Ce(),[r,o]=d.exports.useState(null);let i=ke();const s="todomvc",{fields:c,put:l}=nt(n.get(s).get("profile"),{appKeys:t,sea:e}),{name:m=""}=c;return d.exports.useEffect(()=>(r||o(new at(".btn")),()=>{r&&r.destroy()}),[r]),u.createElement("div",{className:"todoapp profile"},u.createElement(ze,{to:"/"},u.createElement("i",{className:"gg-mail-reply"})),u.createElement("h2",null,"My Profile"),u.createElement("input",{value:m,onChange:g=>{l({name:g.target.value})}}),u.createElement("p",null,"These are your private keys, you can use them to log into other devices,"," ",u.createElement("b",null,"DO NOT SHARE THEM"),"."),u.createElement("textarea",{className:"new-todo link",id:"shareLink",readOnly:!0,value:JSON.stringify(t),style:{minHeight:215}}),u.createElement("button",{className:"btn copy-btn","data-clipboard-target":"#shareLink"},"Copy to clipboard"),u.createElement("button",{onClick:()=>{a(()=>{i.push("/"),window.location.reload()})}},"Logout"))};function Qr(){return u.createElement(Gt,null,u.createElement(le,{exact:!0,path:"/"},u.createElement(Zt,null)),u.createElement(le,{path:"/detail/:listID?"},u.createElement(qr,null)),u.createElement(le,{path:"/profile"},u.createElement(zr,null)))}export{Qr as default};
